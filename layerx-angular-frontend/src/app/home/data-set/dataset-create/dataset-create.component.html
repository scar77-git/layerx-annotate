<app-header></app-header>
<app-side-bar></app-side-bar>

<div class="content-col m-h">
  <div class="border-top"></div>
  <div class="new-project-panel stage-create">
    <i class="icon icon-close ci"></i>
    <h2 class="title">Create new Dataset</h2>
    <form class="inner">
      <div class="form-group">
        <label for="dataset-name " class="inner-title p-b-10"
          >Dataset Name<span> *</span></label
        >
        <input
          type="text"
          class="form-control"
          placeholder="Dataset Name"
          value=""
          name="datasetName"
          [(ngModel)]="datasetName"
          [ngClass]="{ emptyName: datasetNameError }"
        />
      </div>
      <div class="form-group">
        <label for="project-type" class="inner-title"
          >Select Projects<span> *</span></label
        >

        <div class="dropdown">
          <button
            class="btn btn-project-type b-h"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="true"
          >
            <div>
              <div class="btn-text">
                Select<i class="dropdown icon icon-arrow-don"></i>
              </div>
            </div>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <li *ngFor="let project of projects">
              <div class="left">
                <input
                  type="checkbox"
                  class="checkbox-round"
                  [checked]="project.checked"
                  (change)="project.checked = !project.checked"
                />
                <span class="checkmark"></span>
              </div>
              <div class="text">{{ project.name }}</div>
            </li>
            <div class="center">
              <button
                [ngClass]="{ 'main-btn': true, 'btn-disabled': false }"
                (click)="addProjects()"
              >
                Add Projects
              </button>
            </div>
          </ul>
          <div class="project-label-list">
            <div
              *ngFor="let project of selectedProjects; index as i"
              class="project-label"
              [hidden]="!project.checked"
            >
              {{ project.name }}
              <i class="icon icon-close" (click)="removeProject(i)"></i>
            </div>
          </div>
          <div class="center">
            <button
              type="submit"
              class="main-btn m-t-10"
              [ngClass]="{ 'btn-disabled': checkedCount == 0 }"
              [disabled]="checkedCount == 0"
              (click)="onSubmit()"
            >
              Next
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
